"use strict";var template=require("lodash").template,request=require("superagent"),bluebird=require("bluebird"),trelloWebComponent;module.exports=function(e){var o,r,n;if(e.debug=e.debug||!1,void 0==e.appKey||void 0==e.userToken)return console.log("Mising App key or User Token"),fasle;r="https://api.trello.com/1/boards/",n="key="+e.appKey+"&token="+e.userToken;var i=Buffer("Cjx0YWJsZSBjbGFzcz0idHJlbGxvV2ViQ29tcG9uZW50Ij4KICA8dGhlYWQ+CiAgICA8dHI+CiAgICAgIDx0aD5DYXJkczwvdGg+CiAgICA8L3RyPgogIDwvdGhlYWQ+CiAgPHRib2R5PjwlIF8uZm9yRWFjaChjYXJkcywgZnVuY3Rpb24oY2FyZCkgeyAlPgogICAgPHRyPgogICAgICA8dGQ+PCU9IGNhcmQubmFtZSAlPjwvdGQ+CiAgICA8L3RyPjwlIH0pICU+CiAgPC90Ym9keT4KPC90YWJsZT4=","base64");return o=template(i),{renderColumn:function(i,t,l){return void 0==i?(console.err("Missing boardID"),!1):(bluebird.fromNode(function(e){request.get(r+i+"/lists?cards=open&"+n,e)}).then(function(r){e.debug&&console.log(r.body);var n;r.body.forEach(function(e){console.log(e),e.id==t&&(n=e)}),console.log(n);var i=document.querySelector(l);i.innerHTML=o({cards:n.cards})}),void 0)}}};